# 快速测试指南

## 5分钟快速测试流程

### 第1步: 录制测试内容（1分钟）
1. 打开 index.html（应该已在Chrome浏览器中打开）
2. 点击"开始录制"，授权麦克风权限
3. 对着麦克风说：
   - "苹果" [停顿1秒]
   - "香蕉" [停顿1秒]
   - "橘子" [停顿1秒]
   - "西瓜" [停顿1秒]
   - "葡萄"
4. 点击"结束录制"
5. **验证**: 应该看到5个片段

### 第2步: 测试连播功能（1分钟）
1. 点击第1个片段的"播放"按钮
2. **验证**: 
   - 听到"苹果"播放一次
   - 停顿0.3秒
   - 再次听到"苹果"
   - 片段背景变为蓝色
   - 进度条动画显示

### 第3步: 开启语音控制（1分钟）
1. 点击"开启语音控制"按钮
2. **验证**:
   - 按钮变为"关闭语音控制"
   - 看到绿色脉动圆点
   - 显示"正在监听..."

### 第4步: 测试语音命令（2分钟）

#### 测试"下一个"
1. 说"下一个"或"好的"
2. **验证**: 听到"苹果"播放两次（第1个片段）

#### 测试"继续"
1. 说"写好了"或"继续"
2. **验证**: 听到"香蕉"播放两次（第2个片段）

#### 测试"重播"
1. 说"什么"或"再说一遍"
2. **验证**: 再次听到"香蕉"播放两次（重播第2个）

#### 测试"下一个"
1. 说"对了"
2. **验证**: 听到"橘子"播放两次（第3个片段）

#### 测试"上一个"
1. 说"上一个"或"回退"
2. **验证**: 听到"香蕉"播放两次（第2个片段）

#### 测试手动点击后的语音控制
1. 手动点击第4个片段（西瓜）的"播放"按钮
2. 等待播放完成
3. 说"下一个"
4. **验证**: 听到"葡萄"播放两次（第5个片段，从手动点击位置继续）

#### 测试播放完毕提示音
1. 继续说"下一个"
2. **验证**: 听到提示音（440Hz正弦波，0.3秒）

## 常见问题排查

### 问题1: 语音识别没反应
- **检查**: 浏览器是否为Chrome或Edge
- **检查**: 是否授权了麦克风权限
- **检查**: 识别文字区域是否显示内容
- **解决**: 刷新页面重试

### 问题2: 录音没有分段
- **检查**: 说话时是否停顿了足够时间（至少1秒）
- **检查**: 停顿阈值设置是否合适
- **解决**: 调整"停顿阈值"滑块，重新录制

### 问题3: 片段播放一次就停了
- **检查**: 代码是否正确实现了连播逻辑
- **检查**: 控制台是否有错误
- **解决**: 查看浏览器控制台（F12）

### 问题4: 语音命令识别不准确
- **检查**: 说话是否清晰
- **检查**: 环境噪音是否过大
- **解决**: 在安静环境中测试，或调整音量阈值

### 问题5: 播放过程中说命令无效
- **说明**: 这是正常的，播放过程中会忽略新命令
- **解决**: 等待当前片段播放完成（连播两次）后再说命令

## 高级测试

### 测试场景A: 模拟真实听写
1. 录制10个词语
2. 开启语音控制
3. 依次说"下一个"，每听完一个词就写下来
4. 遇到没听清的说"什么"重播
5. 完成所有听写

### 测试场景B: 灵活控制
1. 随机点击某个片段
2. 用语音命令"下一个"、"上一个"前后跳转
3. 验证是否从手动点击的位置继续

### 测试场景C: 边界条件
1. 在第1个片段时说"上一个" → 应该播放提示音
2. 在最后1个片段时说"下一个" → 应该播放提示音
3. 连续快速说多个命令 → 应该排队执行或忽略

## 性能测试

1. 录制20+个片段，验证是否流畅
2. 长时间开启语音识别，验证是否稳定
3. 频繁切换片段，验证是否有内存泄漏

## 测试完成检查清单

- [ ] 录音功能正常
- [ ] 实时波形显示正常
- [ ] 自动分段正确
- [ ] 片段连播两次（停顿0.3秒）
- [ ] 语音控制可以开启/关闭
- [ ] "下一个"命令工作正常
- [ ] "重播"命令工作正常
- [ ] "上一个"命令工作正常
- [ ] 手动点击后语音命令从该位置继续
- [ ] 播放完毕播放提示音
- [ ] 当前播放片段有蓝色高亮
- [ ] 识别文字实时显示
- [ ] 所有语音命令都能识别

## 报告问题

如果发现问题，请记录：
1. 问题描述
2. 复现步骤
3. 预期行为
4. 实际行为
5. 浏览器版本
6. 控制台错误信息

祝测试顺利！🎉

