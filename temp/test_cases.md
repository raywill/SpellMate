# 语音录制与分段播放 - 测试用例

## 手动测试用例

### 测试用例 1: 基本录音功能
**步骤:**
1. 打开 index.html
2. 点击"开始录制"
3. 对着麦克风说话
4. 点击"结束录制"

**预期结果:**
- 录音按钮状态正确切换
- 状态显示"正在录音..."
- 录音完成后显示"正在处理录音..."
- 显示实时音频波形可视化

### 测试用例 1.1: 音频波形可视化
**步骤:**
1. 点击"开始录制"
2. 对着麦克风说话
3. 保持安静
4. 再次说话
5. 点击"结束录制"

**预期结果:**
- 录制开始时出现深色背景的波形显示区域
- 说话时波形上下跳动（绿色波形线）
- 保持安静时波形接近平直的中线
- 波形实时响应音量变化
- 停止录制后波形区域消失

### 测试用例 2: 停顿识别与分段
**步骤:**
1. 开始录制
2. 说: "你好" [停顿1秒] "世界" [停顿1秒] "今天天气不错"
3. 结束录制

**预期结果:**
- 应该分割成3个片段
- 每个片段对应一个短语
- 片段数量显示正确

### 测试用例 3: 片段播放
**步骤:**
1. 完成录音和分段
2. 点击第一个片段的"播放"按钮
3. 等待播放完成
4. 点击第二个片段的"播放"按钮

**预期结果:**
- 点击后按钮显示"播放中..."
- 进度条从左到右填充
- 播放完成后自动重置
- 可以播放任意片段

### 测试用例 4: 停止当前播放
**步骤:**
1. 点击第一个片段播放
2. 在播放过程中点击第二个片段播放

**预期结果:**
- 第一个片段停止播放
- 第一个片段的进度条重置
- 第二个片段开始播放

### 测试用例 5: 参数调整
**步骤:**
1. 将停顿阈值调整到2秒
2. 重新录制,短语之间停顿1.5秒
3. 结束录制

**预期结果:**
- 1.5秒停顿不会被识别为分段
- 只有超过2秒的停顿才会分段

### 测试用例 6: 白噪声容忍
**步骤:**
1. 在有轻微背景噪音的环境中录制
2. 说几个词,中间停顿1秒
3. 结束录制

**预期结果:**
- 轻微的背景噪音不影响停顿识别
- 能够正确分段
- 音量阈值参数可调整以适应不同环境

### 测试用例 7: 短片段过滤
**步骤:**
1. 录制时快速说几个很短的音节(如"啊")
2. 每个音节少于0.2秒

**预期结果:**
- 过短的片段(<0.2秒)会被过滤
- 不会生成大量无意义的短片段

### 测试用例 8: 长时间录音
**步骤:**
1. 录制2分钟以上的音频
2. 说多个短语,带有停顿

**预期结果:**
- 能够处理较长的录音
- 所有片段都能正确识别和播放

## 测试结果记录

| 测试用例 | 日期 | 结果 | 备注 |
|---------|------|------|------|
| 用例1    |      |      |      |
| 用例2    |      |      |      |
| 用例3    |      |      |      |
| 用例4    |      |      |      |
| 用例5    |      |      |      |
| 用例6    |      |      |      |
| 用例7    |      |      |      |
| 用例8    |      |      |      |

## 已知问题

(记录测试中发现的问题)

## 改进建议

(记录测试中想到的改进点)

