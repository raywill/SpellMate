# 语音录制与分段播放

一个基于Web Audio API的语音录制和智能分段工具。

## 功能特性

- 🎙️ **录音功能**: 支持通过浏览器录制音频
- 🎵 **实时波形**: 录制时显示实时音频波形动画,有声音时跳动,静音时平直
- ✂️ **智能分段**: 自动根据停顿(静音)将录音分割成多个片段
- ▶️ **独立播放**: 每个片段可以单独播放
- ⚙️ **可调参数**: 支持调整停顿阈值和音量阈值
- 🎨 **现代UI**: 美观的渐变背景和交互设计
- 📊 **播放进度**: 实时显示播放进度条

## 使用方法

1. 在浏览器中打开 `index.html` 文件
2. 点击"开始录制"按钮开始录音
3. 录制时会出现实时音频波形显示,可以观察到:
   - 有声音输入时,波形上下跳动
   - 静音时,波形接近平直的中线
4. 说话时注意在词语或短语之间停顿1秒以上
5. 点击"结束录制"按钮停止录音
6. 系统会自动分析并分割录音
7. 点击各个片段的"播放"按钮来播放对应的音频片段

## 参数调整

- **停顿阈值**: 设置多少秒的静音被视为片段分隔(默认1.0秒)
- **音量阈值**: 设置音量低于多少被视为静音(默认0.010,用于容忍白噪声)

## 技术实现

- 使用 `MediaRecorder API` 进行录音
- 使用 `Web Audio API` 分析和处理音频
- 通过音量检测算法识别停顿
- 实时计算20ms窗口的平均音量
- 过滤掉小于0.2秒的片段

## 浏览器兼容性

需要支持以下API的现代浏览器:
- MediaRecorder API
- Web Audio API
- getUserMedia API

推荐使用:
- Chrome 60+
- Firefox 55+
- Safari 14.1+
- Edge 79+

## 测试方法

在浏览器中打开页面后:
1. 确保浏览器允许麦克风权限
2. 开始录制,说几个词,每个词之间停顿1秒以上
3. 结束录制,检查是否正确分段
4. 播放各个片段,验证音频质量

